generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Brand {
  id                Int     @id @default(autoincrement())
  name              String  @unique
  cheapestMenuPrice Int
  isLowCost         Boolean @default(false)
  isPopular         Boolean @default(false)
  logoUrl           String
  maxDiscount       Int
  menus             Menu[]
}

model Menu {
  id            Int        @id @default(autoincrement())
  name          String
  brandId       Int
  imageUrl      String
  isPopular     Boolean    @default(false)
  officialPrice Int
  prices        AppPrice[]
  brand         Brand      @relation(fields: [brandId], references: [id])

  @@unique([brandId, name])
}

model AppPrice {
  id           Int     @id @default(autoincrement())
  appName      String
  appLogoUrl   String
  appLinkUrl   String?
  price        Int
  discountInfo String?
  menuId       Int
  menu         Menu    @relation(fields: [menuId], references: [id])
}
